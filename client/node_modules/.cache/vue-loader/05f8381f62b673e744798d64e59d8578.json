{"remainingRequest":"C:\\Users\\konch\\synergy\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\konch\\synergy\\client\\src\\views\\Home.vue?vue&type=style&index=0&id=fae5bece&lang=css","dependencies":[{"path":"C:\\Users\\konch\\synergy\\client\\src\\views\\Home.vue","mtime":1616841274890},{"path":"C:\\Users\\konch\\synergy\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\konch\\synergy\\client\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\konch\\synergy\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\konch\\synergy\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\konch\\synergy\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgojYXBwIHsKCiAgZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGNvbG9yOiB3aGl0ZXNtb2tlOwogIG1hcmdpbi10b3A6IDYwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogICMwOTRmOTQ7CiAgCn0KCi5pbnB1dHsKCWRpc3BsYXk6aW5saW5lLWJsb2NrOyAKCXRleHQtYWxpZ246Y2VudGVyOyAKCWNvbG9yOiMwOTRmOTQKfQouaW5wdXQ6OnBsYWNlaG9sZGVyewoJY29sb3I6IzA5NGY5NAp9CiNidXR0b257Cgljb2xvcjojMDk0Zjk0Cn0KCiNtYXBDb250YWluZXIgeyAgIHdpZHRoOiA4MHZ3OwogIAloZWlnaHQ6IDEwMHZoOyB9CgloMiB7CiAgICBmb250LXNpemU6IDQwcHg7CiAgICBjb2xvcjogbWVkaXVtc2VhZ3JlZW47Cgl9CiN0YWJsZXsKCXdpZHRoOjEwMCU7Cgl0ZXh0LWFsaWduOmNlbnRlcjsKCXZlcnRpY2FsLWFsaWduOm1pZGRsZTsKCWNvbG9yOiAjMDk0Zjk0OwoJYm9yZGVyOiAxcHggc29saWQgIzA5NGY5NGFmOwoJYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTsKfQojdGFibGUgdGh7Cglib3JkZXI6IDFweCBzb2xpZCAjMDk0Zjk0YWY7Cn0KI3RhYmxlIHRkewoJYm9yZGVyOiAxcHggc29saWQgIzAzNWZiYmFmOwp9Cgo="},{"version":3,"sources":["C:\\Users\\konch\\synergy\\client\\src\\views\\Home.vue"],"names":[],"mappings":"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","file":"C:/Users/konch/synergy/client/src/views/Home.vue","sourceRoot":"","sourcesContent":["<template>\n<div id=\"Home\">\n  <table>\n\t\t<h1>Synergy</h1>\t\t\t\t\t\n\t\t<div>\n\t\t<Person-Greeter personName=\"Glorious\"/>\n\t\t</div>\n\n\t\t<div>\n\t\t<form class=\"search\" @submit.prevent=\"submit\">\n\t\t\t<fieldset>\n      \t\t<legend>Search for Facilities</legend>\n      \t<div class=\"form-group\" align=\"center\">\n\t\t\t<Get-Location @locateMe=\"location= $event\" style=\"display: inline-block; \" size=\"30\"/> or \n\t\t\t<input list=\"cities\" v-model=\"city_q\" placeholder=\"Choose a city\" class=\"input\" size=\"30\"/> \t\n\t\t\t<datalist id=\"cities\" >\n\t\t\t<option  v-for=\"c in cities\" :value=\"c.city\" v-bind:key=\"c.id\">\n\t\t\t\t{{ c.city }}\n\t\t\t\t</option>\n\t\t\t</datalist></div>\n\t\t<div class=\"form-group\"> \n\t\t\t<input list=\"categories\" v-model=\"category_q\" placeholder=\"Choose a category\"  class=\"input\" size=\"15\"/> or\n  \t\t\t\t<datalist id=\"categories\" >\n\t\t\t\t<option  v-for=\"cat in categories\" :value=\"cat.facCatName\" v-bind:key=\"cat.idFacCat\">\n\t\t\t\t{{ cat.facCatName }}\n\t\t\t\t</option>\n  \t\t\t</datalist>\n\t\t\t<input list=\"facilities\" v-model=\"facility_q\" placeholder=\"Choose a facility\" class=\"input\" size=\"30\"/> \n\t\t\t<datalist id=\"facilities\" >\n\t\t\t<option  v-for=\"fac in facilities\" :value=\"fac.facName\" v-bind:key=\"fac.idFac\">\n\t\t\t\t{{ fac.facName }}\n\t\t\t\t</option>\n\t\t\t</datalist></div>\n\t\t\t<input class=\"button\" type=\"submit\" value=\"Submit\" id=\"button\" v-on:click=\"getFacility()\">\t\n\t\t\t</fieldset>\n\t\t\t</form>\n\t\t\t\t<br>\n\t\t\t\t<table id=\"table\"> \n\t\t\t\t<tr>\n\t\t\t\t<th> AA </th> <th> Category </th><th> Name </th><th> Address </th><th> Outdoor </th><th> City </th>\n\t\t\t\t</tr>\n\t\t\t\t<tr v-on:click=\"getFacilityMessage(f)\" v-for=\"(f, index) in facilities\" v-bind:key=\"f.idfac\" onmouseover=\"\" style=\"cursor: pointer;\">\n\t\t\t\t<td>{{ index+1 }}</td> <td> {{f.facCatName}} </td><td> {{f.facName}} </td><td> {{f.facAddress}} </td><td> {{ f.isOutdoor}} </td><td> {{f.city}} </td>\n\t\t\t\t</tr>\t\t\t\t\n\t\t\t\t</table>\t\t\t\n\t\t<br>\n\t\t</div>\n\t    <div id=\"mapContainer\"></div>\n\t\t</table>\n</div>\n</template>\n\n<script>\nimport PersonGreeter from '..\\\\components\\\\PersonGreeter.vue';\nimport GetLocation from '..\\\\components\\\\GetLocation.vue';\nimport axios from 'axios';\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\n\n\n\nexport default {\n\tcomponents: {\n\t\tPersonGreeter, \n\t\tGetLocation\n\t},\n\tdata() {\n   \t\treturn {\n\t\t\tlocation:'',\n\t\t\tcountry_q:'gr',\n\t\t\tcity_q:'',\n\t\t\tfacility_q:'',\n\t\t\tcategory_q:'',\n\t\t\tcountries:[],\n\t\t\tcities:[],\n\t\t\tcategories:[],\n\t\t\tfacilities:[],\n\t\t\tmapDiv: {},\n\t\t\tmyIcon : {},\n     \t}\n   \t},\n\tcomputed: {\n    center: function () {\n\t\tif(this.location){\n\t\t\treturn [this.location.coords.latitude, this.location.coords.longitude]\n\t\t}else if (this.city_q){\n\t\t\treturn [this.city_q.latitude,this.city_q.longitude]\n\t\t}\n\t\telse if (this.facility){\n\t\t\treturn [this.facility_q.facLat,this.facility_q.faclong]\n\t\t}\n\t\telse{\n\t\t\treturn [37.9833333, 23.7333333]\n\t\t\t}\n    \t}\n  \t},\n\tmethods:{\n\tgetCity(){\n\t\tvar url='http://localhost:3000/api/cities/'+this.country_q+'/'+this.city_q;\n\t\tconsole.log(url);\n\t\t//var params = new URLSearchParams();\n\t\t//params.append('miom', JSON.stringify(this.miom));\n\t\t//params.append('miom', this.miom);\n\t\t//var headers = {'Content-Type': 'application/json; charset=utf-8'};\n\t\taxios.get(url).then(res => {this.cities = res.data.response});\n\t\tconsole.log(this.cities);\n\t},\n\tgetCountries(){\n\t\tvar url='http://localhost:3000/api/countries/';\n\t\tconsole.log(url);\n\t\tvar params = new URLSearchParams();\n\t\t//params.append('miom', JSON.stringify(this.miom));\n\t\t//params.append('miom', this.miom);\n\t\tvar headers = {\n\t\t\t'Content-Type': 'application/json; charset=utf-8'\n\t\t\t};\n\t\taxios.get(url).then(res => {this.countries = res.data.response});\n\t\tconsole.log(this.countries);\n\t\t\t},\n\tgetFacility(){\n\t\tif (this.location===''){\n\t\t\tif(this.city_q === '' && this.category_q=== '' && this.facility_q === ''){\n\t\t\t\talert(\"You haven't specified your search, so we will be showing everything!\")\n\t\t\t\tvar url='http://localhost:3000/api/facilities';\n\t\t\t}\n\t\t\telse if(this.city_q != '' && this.category_q==='' && this.facility_q ===''){\n\t\t\t\tvar url='http://localhost:3000/api/facilities/city/'+this.city_q;\n\t\t\t}\n\t\t\telse if(this.city_q === '' && this.category_q=== '' && this.facility_q !=''){\n\t\t\t\tvar url='http://localhost:3000/api/facilities/'+this.facility_q;\n\t\t\t}\n\t\t\telse if(this.city_q != '' && this.category_q!='' && this.facility_q ===''){\n\t\t\t\tvar url='http://localhost:3000/api/facilities/city/'+this.city_q+'/category/'+this.category_q;\n\t\t\t}\n\t\t\telse if(this.city_q != '' && this.category_q==='' && this.facility_q !=''){\n\t\t\t\tvar url='http://localhost:3000/api/facilities/city/'+this.city_q+'/name/'+this.facility_q;\n\t\t\t}\n\t\t\telse if(this.city_q != '' && this.category_q!='' && this.facility_q !=''){\n\t\t\t\tvar url='http://localhost:3000/api/facilities/city/'+this.city_q+'/category/'+this.category_q+'/'+this.facility_q;\n\t\t\t}\n\t\t}\n\t\t\n\t\tconsole.log(url);\n\t\taxios.get(url).then(res => {this.facilities = res.data.response});\n\t},\n\tgetCategory(){\n\t\tvar url='http://localhost:3000/api/category/'+this.category_q;\n\t\tvar i=0;\n\t\tconsole.log(url);\n\t\taxios.get(url).then(res => {\n\t\t\tthis.categories = res.data.response;\n\t\t})\n\t},\n\tgetCityMessage(city){\n\t\tconsole.log(\"==>\"+city.latitude+\" \"+city.longitude);\n\t\tthis.AddMarker(city.latitude,city.longitude,city.city);\n\t\tthis.city_q=city.city;\n\t\t/*this.center=[city.latitude,city.longitude]*/\n\t},\n\tgetFacilityMessage(facility){\n\t\tconsole.log(\"==>\"+facility.facLat+\" \"+facility.facLong);\n\t\tthis.AddMarker(facility.facLat,facility.facLong,facility.facName);\n\t\t/*this.center=[facility.facLat,facility.facLong]*/\n\t},\n\n\tsetupLeafletMap (){\n\t\tthis.mapDiv = L.map(\"mapContainer\").setView(this.center, 13);\n\t\t\t \n\t\tL.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n\t\t\tattribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t}).addTo(this.mapDiv);\n\t\t\t \n\t\t\tvar LeafIcon = L.Icon.extend({\n\t\t\toptions: {\n\t\t\t\ticonUrl: require('C:/Users/konch/synergy/client/src/assets/images/marker.png'),\n\t\t\t\t//shadowUrl: 'leaf-shadow.png',\n\t\t\t\ticonSize:     [30, 30],\n\t\t\t\t//shadowSize:   [50, 64],\n\t\t\t\ticonAnchor:   [22, 94],\n\t\t\t\t//shadowAnchor: [4, 62],\n\t\t\t\tpopupAnchor:  [-3, -76]\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.myIcon=new LeafIcon();\n\t   },\n\t   AddMarker(lat,long,description){\n\t\tL.marker([lat, long],{icon: this.myIcon}).addTo(this.mapDiv)\n\t\t\t.bindPopup(description)\n\t\t\t.openPopup();\t\n\t   \n\t   \n\t   },\n\t   getDistance(lat1, lon1, lat2, lon2, unit) {\n\t\t\tif ((lat1 == lat2) && (lon1 == lon2)) {\n\t\t\treturn 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar radlat1 = Math.PI * lat1/180;\n\t\t\t\tvar radlat2 = Math.PI * lat2/180;\n\t\t\t\tvar theta = lon1-lon2;\n\t\t\t\tvar radtheta = Math.PI * theta/180;\n\t\t\t\tvar dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n\t\t\t\tif (dist > 1) {\n\t\t\t\tdist = 1;\n\t\t\t\t}\n\t\t\tdist = Math.acos(dist);\n\t\t\tdist = dist * 180/Math.PI;\n\t\t\tdist = dist * 60 * 1.1515;\n\t\t\tif (unit==\"K\") { dist = dist * 1.609344 }\n\t\t\tif (unit==\"N\") { dist = dist * 0.8684 }\n\t\t\treturn dist;\n\t\t\t}\n\t\t}\n\t},\n     mounted() {\n        this.getCountries();\n\t\tthis.getCity();\n\t\tthis.getCategory();\n\t\tthis.setupLeafletMap();\n\t}\n}\n\n</script>\n\n<style>\n\n#app {\n\n  font-family: Helvetica, Arial, sans-serif;\n  text-align: center;\n  color: whitesmoke;\n  margin-top: 60px;\n  background-color:  #094f94;\n  \n}\n\n.input{\n\tdisplay:inline-block; \n\ttext-align:center; \n\tcolor:#094f94\n}\n.input::placeholder{\n\tcolor:#094f94\n}\n#button{\n\tcolor:#094f94\n}\n\n#mapContainer {   width: 80vw;\n  \theight: 100vh; }\n\th2 {\n    font-size: 40px;\n    color: mediumseagreen;\n\t}\n#table{\n\twidth:100%;\n\ttext-align:center;\n\tvertical-align:middle;\n\tcolor: #094f94;\n\tborder: 1px solid #094f94af;\n\tbackground-color: whitesmoke;\n}\n#table th{\n\tborder: 1px solid #094f94af;\n}\n#table td{\n\tborder: 1px solid #035fbbaf;\n}\n\n</style>"]}]}